{"ast":null,"code":"import _toConsumableArray from \"/Users/Ksquare/Documents/Software/home/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { invariant } from '../../utils/errors.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\nfunction stopAnimation(visualElement) {\n  visualElement.values.forEach(function (value) {\n    return value.stop();\n  });\n}\nfunction setVariants(visualElement, variantLabels) {\n  var reversedLabels = _toConsumableArray(variantLabels).reverse();\n  reversedLabels.forEach(function (key) {\n    var variant = visualElement.getVariant(key);\n    variant && setTarget(visualElement, variant);\n    if (visualElement.variantChildren) {\n      visualElement.variantChildren.forEach(function (child) {\n        setVariants(child, variantLabels);\n      });\n    }\n  });\n}\nfunction setValues(visualElement, definition) {\n  if (Array.isArray(definition)) {\n    return setVariants(visualElement, definition);\n  } else if (typeof definition === \"string\") {\n    return setVariants(visualElement, [definition]);\n  } else {\n    setTarget(visualElement, definition);\n  }\n}\n/**\n * @public\n */\nfunction animationControls() {\n  /**\n   * Track whether the host component has mounted.\n   */\n  var hasMounted = false;\n  /**\n   * A collection of linked component animation controls.\n   */\n  var subscribers = new Set();\n  var controls = {\n    subscribe: function subscribe(visualElement) {\n      subscribers.add(visualElement);\n      return function () {\n        return void subscribers.delete(visualElement);\n      };\n    },\n    start: function start(definition, transitionOverride) {\n      invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n      var animations = [];\n      subscribers.forEach(function (visualElement) {\n        animations.push(animateVisualElement(visualElement, definition, {\n          transitionOverride: transitionOverride\n        }));\n      });\n      return Promise.all(animations);\n    },\n    set: function set(definition) {\n      invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n      return subscribers.forEach(function (visualElement) {\n        setValues(visualElement, definition);\n      });\n    },\n    stop: function stop() {\n      subscribers.forEach(function (visualElement) {\n        stopAnimation(visualElement);\n      });\n    },\n    mount: function mount() {\n      hasMounted = true;\n      return function () {\n        hasMounted = false;\n        controls.stop();\n      };\n    }\n  };\n  return controls;\n}\nexport { animationControls, setValues };","map":{"version":3,"names":["invariant","setTarget","animateVisualElement","stopAnimation","visualElement","values","forEach","value","stop","setVariants","variantLabels","reversedLabels","_toConsumableArray","reverse","key","variant","getVariant","variantChildren","child","setValues","definition","Array","isArray","animationControls","hasMounted","subscribers","Set","controls","subscribe","add","delete","start","transitionOverride","animations","push","Promise","all","set","mount"],"sources":["/Users/Ksquare/Documents/Software/home/node_modules/framer-motion/dist/es/animation/hooks/animation-controls.mjs"],"sourcesContent":["import { invariant } from '../../utils/errors.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\n\nfunction stopAnimation(visualElement) {\n    visualElement.values.forEach((value) => value.stop());\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    let hasMounted = false;\n    /**\n     * A collection of linked component animation controls.\n     */\n    const subscribers = new Set();\n    const controls = {\n        subscribe(visualElement) {\n            subscribers.add(visualElement);\n            return () => void subscribers.delete(visualElement);\n        },\n        start(definition, transitionOverride) {\n            invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            const animations = [];\n            subscribers.forEach((visualElement) => {\n                animations.push(animateVisualElement(visualElement, definition, {\n                    transitionOverride,\n                }));\n            });\n            return Promise.all(animations);\n        },\n        set(definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach((visualElement) => {\n                setValues(visualElement, definition);\n            });\n        },\n        stop() {\n            subscribers.forEach((visualElement) => {\n                stopAnimation(visualElement);\n            });\n        },\n        mount() {\n            hasMounted = true;\n            return () => {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls, setValues };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}